import localStorageUser from"./components/localstorage/user.js";import localStorage from"./components/localstorage/tasks.js";import main from"./components/main/main.js";import header from"./components/header/header.js";import aside from"./components/aside/aside.js";import themes from"./components/theme/theme.js";import mainInf from"./components/main/main-info.js";import mainInfo from"./components/main/main-content-info/main-info-content.js";import button from"./components/buttons/button.js";import sectionInfo from"./components/main/main-content-info/components/section-info/main-content-section-info.js";import contentMain from"./components/main/main-content-info/components/content/content.js";import password from"./components/password/password.js";import dropdownCreate from"./components/dropdown/dropdown-create.js";import dropdown from"./components/dropdown/dropdown.js";import slider from"./components/slider/slider.js";import modal from"./components/modal/modal.js";import modalCreate from"./components/modal/modal-create.js";import router from"./components/router/router.js";import calendarModel from"./components/calendar/Model.js";import calendarView from"./components/calendar/View.js";import calendarController from"./components/calendar/Controller.js";import settingsModel from"./components/settings/Model.js";import settingsView from"./components/settings/View.js";import settingsController from"./components/settings/Controller.js";import taskModel from"./components/tasks/Model.js";import taskView from"./components/tasks/View.js";import taskController from"./components/tasks/Controller.js";import loginPage from"./components/main/main-content-info/components/login-page.js";const local=localStorage(),localUser=localStorageUser(),root=document.querySelector(".root");function pagesGenerate(){const o=mainInf(header(),mainInfo()),e=aside();return main([e,o])}function contentGenerated(o){const e=document.querySelector(".main-info__content");e.innerHTML="";const n=[...dropdownCreate(o),...button(o)],t=sectionInfo(o,n);e.append(t,contentMain(o))}function generatePageContent(o){root.append(...modalCreate(o));const e=themes();document.addEventListener("DOMContentLoaded",e);dropdown(o),modal(o);if("calendar"===o){const o=new calendarModel,e=new calendarView(o);new calendarController(o,e)}else if("project"===o){const o=new taskModel,e=new taskView(o);new taskController(o,e)}else if("settings"===o){const o=new settingsModel,e=new settingsView(o);new taskController(o,e)}else if("home"===o){slider()}}window.addEventListener("load",(function(o){let e=window.location.pathname;if(console.log(e),"/"===e){root.append(...modalCreate(),pagesGenerate());const o=document.getElementById("logout-button");o&&o.addEventListener("click",(function(){onNavigate("/login-enter")}));let e=document.querySelectorAll(".links-to");console.log(e),e.forEach((function(o){const e=o.getAttribute("id");console.log(e),o.addEventListener("click",(function(){onNavigate(e)}))}))}else alert("1"),root.append(...modalCreate(e),pagesGenerate()),contentGenerated(routes[pathname]),generatePageContent(routes[pathname])}));const routes={"/login-enter":"login-enter","/login-registration":"login-registration","/home":"home","/settings":"settings","/project":"project","/calendar":"calendar"},onNavigate=o=>(window.history.pushState({},o,window.location.origin+o),"login-enter"===routes[o]||"login-registration"===routes[o]?(root.innerHTML="",root.append(loginPage(routes[o]))):(contentGenerated(routes[o]),generatePageContent(routes[o])),o);window.onpopstate=()=>{root.append(contentGenerated(routes[window.location.pathname])),generatePageContent(routes[window.location.pathname])};